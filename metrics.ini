# DO NOT EDIT THIS SECTION #####################################################
[Global]
FallbackTheme=_fallback

# Now you can edit or add things. ##############################################
[Common]
InitialScreen="ScreenTitleMenu"
#AutoSetStyle=true
DefaultModifiers="1.5x"

[ScreenWithMenuElements]
ScreenInDelay=0.5
ScreenOutDelay=0.5
TimerOnCommand=visible,false

[ScreenTitleMenu]
PrevScreen="ScreenTitleMenu"
#
ChoiceNames="1,2,3,J,5,6"
Choice1="applydefaultoptions;screen,ScreenSelectPlayers;name,Start;"
Choice2="screen,ScreenEditOptions;name,Create;"
Choice3="screen,ScreenOptionsService;name,Options;"
ChoiceJ="screen,ScreenJukeboxMenu;name,Jukebox;"
Choice5="urlnoexit,http://webchat.freenode.net?channels=%23stepmania-devs;name,Chat on IRC"
Choice6="screen,ScreenExit;name,Exit;"
#
ScrollerTransform=function(self,offset,itemIndex,numItems) self:y((32)*(itemIndex-(numItems-1)/2)); end;
ScrollerSecondsPerItem=0
ScrollerNumItemsToDraw=20
ScrollerX=SCREEN_RIGHT
ScrollerY=SCREEN_CENTER_Y+90
ScrollerOnCommand=decelerate,0.2;x,SCREEN_CENTER_X
ScrollerOffCommand=accelerate,0.3;x,SCREEN_RIGHT+500

[ScreenSelectPlayers]
Class="ScreenSelectMaster"
Fallback="ScreenSelectStyle"
ShowScroller=true
WrapScroller=true
ShowIcon=true
PerChoiceScrollElement=false
PerChoiceIconElement=false

ScrollerX=SCREEN_CENTER_X
ScrollerY=SCREEN_CENTER_Y+10
ScrollerOnCommand=
ScrollerNumItemsToDraw=20
ScrollerTransform=function(self,offset,itemIndex,numItems) self:y(40*(itemIndex-(numItems-1)/2)); end

ChoiceNames="1,2"
Choice1="name,1P;screen,Screen1PModes"
Choice2="name,2P;style,versus;screen,ScreenProfileLoad"

[Screen1PModes]
Fallback="ScreenSelectPlayers"

ChoiceNames="Si,So,D"
ChoiceSi="name,Single;style,single;screen,ScreenProfileLoad"
ChoiceSo="name,Solo;style,solo;screen,ScreenProfileLoad"
ChoiceD="name,Double;style,double;screen,ScreenProfileLoad"

[ScreenProfileLoad]
	
[ScreenSelectPlayMode]
ShowScroller=true
WrapScroller=true
ShowIcon=true
PerChoiceScrollElement=false
PerChoiceIconElement=false
ScrollerX=SCREEN_CENTER_X
ScrollerY=SCREEN_CENTER_Y
ScrollerOnCommand=sleep,0.7;diffusealpha,1;zoom,0.90
ScrollerNumItemsToDraw=20
ScrollerTransform=function(self,offset,itemIndex,numItems) self:y(30*(itemIndex-(numItems-1)/2)); end
ChoiceNames="Normal,Online,Rave,Nonstop,Oni,Endless"
ChoiceOnline="name,Online;screen,ScreenNetworkOptions"
ChoiceNonstop="name,Extended;playmode,nonstop;screen,ScreenSelectMusic"

[ScreenSelectMusic]
BannerX=200
BannerY=111
BannerOnCommand=scaletoclipped,300,100
BannerOffCommand=bouncebegin,0.15;zoomy,0
MusicWheelOffCommand=bouncebegin,0.15;zoomx,0
ScoreP1OnCommand=visible,true;x,70;y,SCREEN_CENTER_Y - 58;maxwidth,100;maxheight,90;diffuse,PlayerColor(PLAYER_1);strokecolor,Color.Black
ScoreP1OffCommand=bouncebegin,0.15;zoomy,0
ScoreP2OnCommand=visible,true;x,310;y,SCREEN_CENTER_Y - 58;maxwidth,100;maxheight,90;diffuse,PlayerColor(PLAYER_2);strokecolor,Color.Black
ScoreP2OffCommand=bouncebegin,0.15;zoomy,0

[ScreenSelectCourse]
ShowDifficultyList=false

[ScreenStageInformation]
PlayMusic=false

[MusicWheel]
RouletteColor=color("#33AA01")
NumWheelItems=11
ItemTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) \
self:y(offsetFromCenter*38); end
ScrollBarOnCommand=visible,true;x,250

[MusicWheelItem]
WheelNotifyIconOnCommand=visible,true

SectionCountOnCommand=diffusealpha,0
SectionCollapsedOnCommand=maxwidth,400
SectionExpandedOnCommand=maxwidth,400
CourseOnCommand=maxwidth,350;x,20

GradeP1X=-175
GradeP2X=175
#215 on screenselectcourse

[ScreenGameplay]
NextScreen="ScreenEvaluationNormal"
LifeP1X=60
LifeP1Y=SCREEN_CENTER_Y
LifeP1OnCommand=rotationz,-90
LifeP2X=SCREEN_RIGHT-60
LifeP2Y=SCREEN_CENTER_Y
LifeP2OnCommand=rotationz,-90

[LifeMeterBar]
# rotated, so x = y and y = x
UnderX=5
UnderOnCommand=zoomx,2;zoomy,1.05;diffusealpha,0.5

[SongManager]
ExtraStage2DifficultyMax=20
NumSongGroupColors=8
#I have no idea what any color after Group 4 is.
SongGroupColor1=color("#00aeef") 
SongGroupColor2=color("#efae00") 
SongGroupColor3=color("#aeef00")
SongGroupColor4=color("#ae00ef") 
SongGroupColor5=color("#ef00ae") 
SongGroupColor6=color("#aeaeef") 
SongGroupColor7=color("#efaeef") 
SongGroupColor8=color("#effeef") 

[TextBanner]
ArtistOnCommand=visible,true
ArtistPrependString="by "
AfterSetCommand=%TextBannerPostSet

[StepsDisplayListRow]
# stolen from default
# difficulty list
CapitalizeDifficultyNames=false
NumShownItems=5
ItemsSpacingY=24
MoveCommand=decelerate,0.05

FrameX=

FrameSetCommand=%function(self,param) \
	if param.CustomDifficulty then \
		self:diffuse(ColorMidTone( CustomDifficultyToColor(param.CustomDifficulty) )); \
	else \
		self:diffuse(color('1,1,1,1')); \
	end; \
end;
#
NumTicks=10
MaxTicks=10
#
ShowMeter=true
MeterX=40
MeterOnCommand=shadowlength,1;zoom,0.55;textglowmode,'TextGlowMode_Inner';
MeterSetCommand=%function(self,param) \
	if param.CustomDifficulty then \
		self:diffuse(CustomDifficultyToColor(param.CustomDifficulty)); \
		self:shadowcolor(CustomDifficultyToDarkColor(param.CustomDifficulty)); \
	end; \
	if param.Meter then \
		if param.Meter >= 10 then \
			self:textglowmode('TextGlowMode_Inner'); \
			self:glowshift(); \
		else \
			self:stopeffect(); \
		end; \
	end; \
end;
#
ShowDescription=true
DescriptionX=-50
DescriptionY=-2
DescriptionOnCommand=shadowlength,1;horizalign,left;zoom,0.65;maxwidth,128+8-20;
DescriptionSetCommand=%function(self,param) \
	if self:GetText() == "" then \
		self:settext("Edit"); \
	end; \
	if param.CustomDifficulty then \
		self:diffuse(CustomDifficultyToColor(param.CustomDifficulty)); \
		self:shadowcolor(CustomDifficultyToDarkColor(param.CustomDifficulty)); \
	end; \
end;
ShowStepsType=ThemePrefs.Get("AutoSetStyle")
StepsTypeX=-64-8
StepsTypeY=SCREEN_CENTER_Y
StepsTypeOnCommand=
StepsTypeSetCommand=

[RadarValues]
WriteSimpleValues=true

[StreamDisplay]
# stolen from default
PillTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) \
	local offset = itemIndex / numItems \
	local rate = 4 \
	local fItemWidth = ( 256 / numItems ) \
	self:x( ((itemIndex-(numItems/2))*fItemWidth) + ( numItems / 2 ) ); \
	self:zoomtowidth(fItemWidth); \
	self:diffuseramp(); \
	self:effectcolor2(color("1,1,1,1")); \
	self:effectcolor1(color("0.5,0.5,0.5,1")); \
	self:effectperiod(rate); \
	self:effectclock('beat'); \
	self:effectoffset(1-offset); \
end;

# redirect because ScreenMiniMenuMainMenu is stupid
[ScreenOptionsEdit]
Fallback="ScreenEditOptions"
Class="ScreenSelectMaster"
PlayMusic=true

[ScreenEditOptions]
# because I can't edit fonts on ScreenOptionsEdit '
# I guess it would make more sense to fallback on ScreenOptionsSimpleService, but meh
Fallback="ScreenSelectMaster"
Class="ScreenSelectMaster"
NextScreen=Branch.TitleMenu()
PrevScreen=Branch.TitleMenu()
# why does this work
ScrollerTransform=function(self,offset,numItems,itemIndex) if itemIndex==1 then self:y(32*offset*32*32) else self:y(32*offset+(numItems/itemIndex)) end end
DefaultChoice=1
PerChoiceIconElement=false
PerChoiceScrollElement=false
ShowIcon=true
ShowCursor=false
ShowScroller=true

ScrollerX=SCREEN_CENTER_X
ScrollerY=SCREEN_CENTER_Y-100
ChoiceNames="1,2,3,4"
Choice1="screen,ScreenEditMenu;name,Edit Songs/Steps"
Choice2="screen,ScreenPracticeMenu;name,Practice Songs/Steps"
Choice3="screen,ScreenEditCourseModsMenu;name,Edit Courses/Mods"
Choice4="screen,ScreenTitleMenu;name,Exit"

# you clowns better use the create menu
[ScreenEditMenu]
PrevScreen="ScreenEditOptions"

[ScreenPracticeMenu]
PrevScreen="ScreenEditOptions"

[ScreenEditCourseModsMenu]
PrevScreen="ScreenEditOptions"

[ScreenMiniMenu]
RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) self:y(500+(itemIndex-(numItems-1)-2)*25):zoom(0.75) end
PlayMusic=false

[ScreenAMVTest]
Fallback="ScreenWithMenuElements"
Class="ScreenWithMenuElements"
CodeNames="left,right,reset"
Codeleft="Left"
Coderight="Right"
Codereset="Up"
ScreenInDelay=0
ScreenOutDelay=0
